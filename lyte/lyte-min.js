function loadScript(a){scr=doc.createElement("script");scr.src=a;scr.type="text/javascript";doc.getElementsByTagName("head")[0].appendChild(scr)}function setStyle(a,b){if(typeof a.setAttribute==="function")a.setAttribute("style",b);else if(typeof a.style.setAttribute==="object")a.style.setAttribute("cssText",b)}function drawTitle(a,b){p=doc.getElementById(a);c=doc.createElement("div");c.className="tC";p.appendChild(c);setStyle(c,"margin:-"+(p.clientHeight/2+15)+"px 5px;");t=doc.createElement("div");t.className="tT";c.appendChild(t);t.innerHTML=b}function parsePL(a){thumb=a.feed.entry[0].media$group.media$thumbnail[1].url;idu=a.feed.id.$t;id="lyte_"+idu.substring(idu.length-16);title="Playlist: "+a.feed.title.$t;pl=d.getElementById(id);pH=pl.style.height;pW=pl.style.width;setStyle(pl,"height:"+pH+";width:"+pW+';background:url("'+thumb+'") no-repeat scroll center -10px rgb(0, 0, 0); background-size:contain;');drawTitle(id,title)}function parseV(a){title=a.entry.title.$t;idu=a.entry.id.$t;id="lyte_"+idu.substring(idu.length-11);drawTitle(id,title)}function plaYT(){this.onclick="";if(this.className.indexOf("hidef")===-1){hidef=0}else{hidef=1}if(this.className.indexOf("playlist")===-1){eU="http://www.youtube.com/embed/"+this.id}else{eU="http://www.youtube.com/embed/p/"+this.id}this.innerHTML='<iframe class="youtube-player" type="text/html" width="'+this.clientWidth+'" height="'+this.clientHeight+'" src="'+eU+"?autoplay=1&rel=0&egm=0&iv_load_policy=3&probably_logged_in=false&hd="+hidef+'" frameborder="0"></iframe>'}function lyte(){lytes=getElementsByClassName("lyte","div");for(var a=0;a<lytes.length;a++){lyte_id=lytes[a].id;p=doc.getElementById(lyte_id);p.className+=" lP";pW=p.clientWidth;pH=p.clientHeight;pl=doc.createElement("div");p.appendChild(pl);p.onclick=plaYT;pl.id="lyte_"+lyte_id;pl.className="pL";if(p.className.indexOf("audio")!==-1){setStyle(pl,"height:"+pH+"px;width:"+pW);pl.innerHTML='<img src="'+bU+"controls-"+pW+'.png" width="100%" id="ctrl" alt="" style="max-width:'+pW+'px;"/>'}else if(p.className.indexOf("playlist")!==-1){setStyle(pl,"height:"+pH+"px;width:"+pW+"px;");pl.innerHTML='<img src="'+bU+'play.png" alt="Click to play this playlist" style="margin-top:'+(pH/2-30)+'px;opacity:0.7;" onmouseover="this.style.opacity=1;" onmouseout="this.style.opacity=0.8;"/><img src="'+bU+"controls-"+pW+'.png" width="100%" id="ctrl" alt="" style="max-width:'+pW+'px;"/>';jsonUrl="http://gdata.youtube.com/feeds/api/playlists/"+lyte_id+"?v=2&alt=json-in-script&callback=parsePL&fields=id,title,entry";loadScript(jsonUrl)}else{setStyle(pl,"height:"+pH+"px;width:"+pW+'px;background:url("http://img.youtube.com/vi/'+lyte_id+'/0.jpg") no-repeat scroll center -10px rgb(0, 0, 0);background-size:contain;');pl.innerHTML='<img src="'+bU+'play.png" alt="Click to play this video" style="margin-top:'+(pH/2-30)+'px;opacity:0.7;" onmouseover="this.style.opacity=1;" onmouseout="this.style.opacity=0.8;"/><img src="'+bU+"controls-"+pW+'.png" width="100%" id="ctrl" alt="" style="max-width:'+pW+'px;"/>';if(p.className.indexOf("widget")===-1){jsonUrl="http://gdata.youtube.com/feeds/api/videos/"+lyte_id+"?fields=id,title&alt=json-in-script&callback=parseV";loadScript(jsonUrl)}}}}var doc=document;var cI="lytecss";if(!doc.getElementById(cI)){lk=doc.createElement("link");lk.id=cI;lk.rel="stylesheet";lk.type="text/css";lk.href=bU+"lyte.css";doc.getElementsByTagName("head")[0].appendChild(lk)}var getElementsByClassName=function(a,b,c){if(doc.getElementsByClassName){getElementsByClassName=function(a,b,c){c=c||doc;var d=c.getElementsByClassName(a),e=b?new RegExp("\\b"+b+"\\b","i"):null,f=[],g;for(var h=0,i=d.length;h<i;h+=1){g=d[h];if(!e||e.test(g.nodeName)){f.push(g)}}return f}}else if(doc.evaluate){getElementsByClassName=function(a,b,c){b=b||"*";c=c||doc;var d=a.split(" "),e="",f="http://www.w3.org/1999/xhtml",g=doc.documentElement.namespaceURI===f?f:null,h=[],i,j;for(var k=0,l=d.length;k<l;k+=1){e+="[contains(concat(' ', @class, ' '), ' "+d[k]+" ')]"}try{i=doc.evaluate(".//"+b+e,c,g,0,null)}catch(m){i=doc.evaluate(".//"+b+e,c,null,0,null)}while(j=i.iterateNext()){h.push(j)}return h}}else{getElementsByClassName=function(a,b,c){b=b||"*";c=c||doc;var d=a.split(" "),e=[],f=b==="*"&&c.all?c.all:c.getElementsByTagName(b),g,h=[],i;for(var j=0,k=d.length;j<k;j+=1){e.push(new RegExp("(^|\\s)"+d[j]+"(\\s|$)"))}for(var l=0,m=f.length;l<m;l+=1){g=f[l];i=false;for(var n=0,o=e.length;n<o;n+=1){i=e[n].test(g.className);if(!i){break}}if(i){h.push(g)}}return h}}return getElementsByClassName(a,b,c)};lyte()
